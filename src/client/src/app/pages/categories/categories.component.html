<div class="categories-page">
  <section>
    <mat-card>
      <mat-card-content>
        <form
          [formGroup]="categoryForm"
          (ngSubmit)="handleSubmit()"
          class="category-form"
          novalidate
        >
          <mat-form-field class="category-form-item" appearance="fill">
            <mat-label>Name</mat-label>
            <input matInput formControlName="name" />
          </mat-form-field>
          <button class="category-form-item" mat-button color="primary">
            {{ submitButtonText }}
          </button>
        </form>
      </mat-card-content>
    </mat-card>
  </section>

  <section class="categories">
    <mat-form-field style="width: 100%;" appearance="fill">
      <mat-label>Search</mat-label>
      <input matInput [(ngModel)]="query" (ngModelChange)="filterCategories()" [ngModelOptions]="{ standalone: true }"/>
      <mat-icon matPrefix>search</mat-icon>
    </mat-form-field>

    <mat-list role="list">
      <mat-list-item
        role="listitem"
        *ngFor="let category of filteredCategories"
      >
        {{ category.name }}
        <span style="float: right">
          <button (click)="showCategory(category)" mat-button>
            <mat-icon>edit</mat-icon>
          </button>
          <button (click)="deleteCategory(category.id)" mat-button>
            <mat-icon>delete</mat-icon>
          </button>
        </span>
      </mat-list-item>
    </mat-list>
  </section>
</div>
